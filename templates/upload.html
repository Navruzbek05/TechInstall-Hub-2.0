<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ - TechInstall Hub</title>
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon.svg') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω -->
    <div class="background-animation">
        <div class="gradient-ball ball-1"></div>
        <div class="gradient-ball ball-2"></div>
        <div class="gradient-ball ball-3"></div>
    </div>

    <header>
        <div class="header-content">
            <div class="logo">TechInstall Hub</div>
            <nav>
                <a href="/" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="/instructions" class="nav-link">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="hero">
            <h1>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤</h1>
            <p>–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø–æ—Ä—Ç–∞–ª–∞</p>
        </section>

        <div class="content-grid">
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ -->
            <div class="card">
                <h2>üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª</h2>
                <form method="post" enctype="multipart/form-data" class="upload-form" id="uploadForm">
                    <div class="form-group">
                        <label for="fileInput" class="file-input-label">
                            <div class="file-input-area" id="fileInputArea">
                                <div class="file-input-icon">üìÅ</div>
                                <div class="file-input-text">
                                    <div class="file-input-title">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏</div>
                                    <div class="file-input-subtitle">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</div>
                                </div>
                                <input type="file" name="file" id="fileInput" class="file-input-hidden" required>
                            </div>
                        </label>
                        <div class="file-preview" id="filePreview"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="fileName" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                        <input type="text" id="fileName" name="file_name" class="form-input" 
                               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Naumen_Client_v2.1">
                    </div>
                    
                    <div class="form-group">
                        <label for="fileDescription" class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="fileDescription" name="file_description" class="form-textarea" 
                                  placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–∞, –≤–µ—Ä—Å–∏—è, —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è..."></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn" id="submitBtn">
                        <span class="btn-text">üöÄ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</span>
                        <span class="btn-loading" style="display: none;">
                            <span class="loading"></span> –ó–∞–≥—Ä—É–∑–∫–∞...
                        </span>
                    </button>
                </form>
            </div>

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ -->
            <div class="card">
                <h2>‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–≥—Ä—É–∑–∫–µ</h2>
                <div class="info-list">
                    <div class="info-item">
                        <div class="info-icon">‚úÖ</div>
                        <div class="info-content">
                            <strong>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã</strong>
                            <p>EXE, MSI, ZIP, RAR, DMG, PKG</p>
                        </div>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">üìè</div>
                        <div class="info-content">
                            <strong>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä</strong>
                            <p>–î–æ 100 MB –Ω–∞ —Ñ–∞–π–ª</p>
                        </div>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">üõ°Ô∏è</div>
                        <div class="info-content">
                            <strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong>
                            <p>–í—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–æ–º</p>
                        </div>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">‚ö°</div>
                        <div class="info-content">
                            <strong>–ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞</strong>
                            <p>–§–∞–π–ª—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ù–µ–¥–∞–≤–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã -->
        <div class="card" style="margin-top: 2rem;">
            <h2>üìã –ù–µ–¥–∞–≤–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã</h2>
            <div class="recent-files">
                {% if files %}
                <div class="file-grid">
                    {% for file in files[-5:] %}  <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Ñ–∞–π–ª–æ–≤ -->
                    <div class="file-card">
                        <div class="file-card-icon">üìÑ</div>
                        <div class="file-card-info">
                            <div class="file-card-name">{{ file }}</div>
                            <div class="file-card-date">–ó–∞–≥—Ä—É–∂–µ–Ω —Å–µ–≥–æ–¥–Ω—è</div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <div class="empty-state">
                    <div class="empty-icon">üì≠</div>
                    <h3>–§–∞–π–ª—ã –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã</h3>
                    <p>–ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º, –∫—Ç–æ –¥–æ–±–∞–≤–∏—Ç —Ñ–∞–π–ª –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é</p>
                </div>
                {% endif %}
            </div>
        </div>
    </main>

    <footer>
        <p>¬© 2025 TechInstall Hub | –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ—Ä—Ç–∞–ª –¥–ª—è IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤</p>
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script>
        // JavaScript –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏
        document.addEventListener('DOMContentLoaded', function() {
            const fileInput = document.getElementById('fileInput');
            const fileInputArea = document.getElementById('fileInputArea');
            const filePreview = document.getElementById('filePreview');
            const uploadForm = document.getElementById('uploadForm');
            const submitBtn = document.getElementById('submitBtn');
            const btnText = submitBtn.querySelector('.btn-text');
            const btnLoading = submitBtn.querySelector('.btn-loading');

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ drag and drop
            fileInputArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.style.background = 'rgba(37, 99, 235, 0.1)';
                this.style.borderColor = '#2563eb';
            });

            fileInputArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                this.style.background = '';
                this.style.borderColor = '';
            });

            fileInputArea.addEventListener('drop', function(e) {
                e.preventDefault();
                this.style.background = '';
                this.style.borderColor = '';
                
                if (e.dataTransfer.files.length) {
                    fileInput.files = e.dataTransfer.files;
                    handleFileSelect(e.dataTransfer.files[0]);
                }
            });

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞
            fileInput.addEventListener('change', function(e) {
                if (this.files.length) {
                    handleFileSelect(this.files[0]);
                }
            });

            function handleFileSelect(file) {
                const fileName = file.name;
                const fileSize = (file.size / (1024 * 1024)).toFixed(2);
                const fileType = fileName.split('.').pop().toUpperCase();

                filePreview.innerHTML = `
                    <div class="file-preview-card">
                        <div class="file-preview-icon">üìÑ</div>
                        <div class="file-preview-info">
                            <div class="file-preview-name">${fileName}</div>
                            <div class="file-preview-details">
                                <span class="file-type">${fileType}</span>
                                <span class="file-size">${fileSize} MB</span>
                            </div>
                        </div>
                        <button type="button" class="file-remove" onclick="clearFile()">√ó</button>
                    </div>
                `;

                // –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞
                const fileNameInput = document.getElementById('fileName');
                if (!fileNameInput.value) {
                    const nameWithoutExt = fileName.replace(/\.[^/.]+$/, "");
                    fileNameInput.value = nameWithoutExt;
                }
            }

            // –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞
            window.clearFile = function() {
                fileInput.value = '';
                filePreview.innerHTML = '';
            };

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
            uploadForm.addEventListener('submit', function(e) {
                btnText.style.display = 'none';
                btnLoading.style.display = 'inline-block';
                submitBtn.disabled = true;
                
                // –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–æ –±—É–¥–µ—Ç –Ω–∞—Å—Ç–æ—è—â–∏–π AJAX)
                setTimeout(() => {
                    showNotification('–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω!', 'success');
                }, 1500);
            });
        });

        function showNotification(message, type) {
            // –í–∞—à–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#10b981' : '#ef4444'};
                color: white;
                padding: 1rem 2rem;
                border-radius: 12px;
                box-shadow: 0 10px 25px rgba(0,0,0,0.2);
                z-index: 1000;
                animation: slideInRight 0.5s ease-out;
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideInRight 0.5s ease-out reverse';
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }
    </script>
</body>
</html>